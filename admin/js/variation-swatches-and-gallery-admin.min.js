(()=>{function e(o){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(o)}function o(o,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,(void 0,n=function(o,t){if("object"!==e(o)||null===o)return o;var a=o[Symbol.toPrimitive];if(void 0!==a){var i=a.call(o,"string");if("object"!==e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(i.key),"symbol"===e(n)?n:String(n)),i)}var n}var t,a;t=jQuery,a=function(){function e(){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}var a,i;return a=e,(i=[{key:"init",value:function(){t(".woocommerce_variation").each((function(){var e=t(this).find(".form-row.form-row-full.variation-swatches-and-gallery--gallery-wrapper");t(this).find(".form-row.form-row-first.upload_image").append(e)})),t(document).on("click",".variation-swatches-and-gallery--remove-galery-image",(function(e){e.preventDefault(),e.stopPropagation(),t(this).parent().remove(),t(this).closest(".woocommerce_variation").addClass("variation-needs-update"),t("button.cancel-variation-changes, button.save-variation-changes").prop("disabled",!1)})),t(document).on("click",".variation-swatches-and-gallery--add-galery-image",(function(e){var o,a=this;e.preventDefault(),e.stopPropagation();var i=t(this).data("product_variation_id"),n=t(this).data("product_variation_loop");if("undefined"!=typeof wp&&wp.media&&wp.media.editor){if(o)return void o.open();(o=wp.media({library:{type:["video","image"]},multiple:!0})).on("select",(function(){var e=o.state().get("selection").toJSON().map((function(e){if("image"===e.type){var o=e.id,t=e.sizes,a=(t=void 0===t?{}:t).thumbnail,r=t.full,l=a?a.url:r.url;return wp.template("variation-swatches-and-gallery--gallery-image")({id:o,url:l,product_variation_id:i,loop:n})}})).join("");t(a).parent().prev().find(".variation-swatches-and-gallery--gallery-images").append(e),t(a).closest(".woocommerce_variation").addClass("variation-needs-update"),t("button.cancel-variation-changes, button.save-variation-changes").prop("disabled",!1)})),o.open()}}))}}])&&o(a.prototype,i),Object.defineProperty(a,"prototype",{writable:!1}),e}(),t(document).ready((function(e){e("#woocommerce-product-data").on("woocommerce_variations_loaded",(function(){new a})),e("#variable_product_options").on("woocommerce_variations_added",(function(){new a}))}))})();